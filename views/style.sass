
$border_color: #a6a6a6

@mixin default_button($text, $width, $height)
	line-height: $height
	width: $width
	&::after
		content: $text
		width: $width

@mixin rounded($radius)
	border-radius: $radius

@mixin full_left($w: 200px)
	position: absolute
	left: 0
	top: 0
	bottom: 0
	width: $w

@mixin full_top($h: 50px, $t: 0, $l: 0, $r: 0)
	position: absolute
	left: $l
	right: $r
	top: $t
	height: $h

@mixin full_bottom($h: 50px, $b: 0, $l: 0, $r: 0)
	position: absolute
	left: $l
	right: $r
	bottom: $b
	height: $h

@mixin full($t: 0, $r: 0, $b: 0, $l: 0)
	position: absolute
	top: $t
	right: $r
	bottom: $b
	left: $l

@mixin gradient($start, $stop)
	background: $stop
	background: -moz-linear-gradient(top, $start 0%, $stop 100%)
	background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,$start), color-stop(100%,$stop))
	background: -webkit-linear-gradient(top, $start 0%,$stop 100%)
	background: -o-linear-gradient(top, $start 0%,$stop 100%)
	background: -ms-linear-gradient(top, $start 0%,$stop 100%)
	background: linear-gradient(top, $start 0%,$stop 100%)

@mixin mono
	font-family: menlo
	font-size: 13px

@mixin ell
	overflow: hidden
	text-overflow: ellipsis
	white-space: nowrap

@mixin rotate($angle)
	-webkit-transform: rotate($angle)
	-moz-transform: rotate($angle)
	-o-transform: rotate($angle)
	-ms-transform: rotate($angle)
	transform: rotate($angle)

button
	@include gradient(#fff, #e5e5e5)
	border: 1px solid $border_color
	cursor: pointer
	padding: 0
	margin: 0
	vertical-align: middle
	&:hover, &:focus
		@include gradient(#e5e5e5, #fff)
	&:active
		@include gradient(#b0b0b0, #a5a5a5)

td.fs
	font-size: 0
	text-align: center

ol.sgm
	li
		display: inline-block

input[type=checkbox]
	-webkit-appearance: none
	display: inline-block
	width: 21px
	height: 17px
	line-height: 17px
	font-size: 10px
	border-left: 1px solid $border_color
	border-top: 1px solid $border_color
	border-bottom: 1px solid $border_color
	text-align: center
	vertical-align: bottom
	margin: 2px 0
	@include gradient(#fff, #e5e5e5)
	box-shadow: rgba(0,0,0,.1) 0 1px 0
	&:active
		@include gradient(#b0b0b0, #a5a5a5)
		box-shadow: inset rgba(0,0,0,.4) 0 1px 2px
	&:checked
		@include gradient(#e5e5e5, #e5e5e5)
		box-shadow: inset rgba(0,0,0,.4) 0 1px 2px

input.b
	border-radius: 4px 0 0 4px
	&::after
		content: "B"
		font-weight: bold

input.i
	&::after
		content: "I"
		font-style: italic

input.u
	border-right: 1px solid #ccc
	border-radius: 0 4px 4px 0
	&::after
		content: "U"
		text-decoration: underline

body
	font-family: 'Lucida Grande'
	font-size: 12px
	line-height: 18px
	background: #ddd

header
	@include gradient(#5b6773, #4d5660)

	h1
		line-height: 50px
		float: left
		font-size: 26px
		font-family: cochin
		font-style: italic
		font-weight: bold
		color: #e5e5e5
		text-shadow: #0C1021 0 1px 1px
		margin: 0 10px

	.author
		line-height: 15px
		padding: 21px 0 14px
		color: #aaa

.colorwell
	line-height: normal
	background-color: #fff
	background-image: -webkit-linear-gradient(45deg, #ccc 25%, transparent 25%, transparent 75%, #ccc 75%, #ccc), -webkit-linear-gradient(45deg, #ccc 25%, transparent 25%, transparent 75%, #ccc 75%, #ccc)
	-webkit-background-size: 8px 8px
	background-position: 0 0, 4px 4px
	padding: 0
	display: inline-block
	height: 20px
	width: 20px
	@include rounded(2px)
	input
		-webkit-appearance: none
		cursor: pointer
		border: 0
		text-indent: -999em
		padding: 0
		box-shadow: inset rgba(0,0,0,.2) 0 1px 2px
		display: inline-block
		width: 100%
		height: 20px

.bold
	font-weight: bold

.italic
	font-style: italic

.underline
	text-decoration: underline

.wrapper
	@include full($t: 50px)

#content
	@include full($l: 200px)

#sidebar
	@include full_left($w: 200px)
	ul
		@include full(10px, 10px, 10px, 10px)
		background: #fff
		border: 1px solid $border_color
		overflow: scroll
	a
		@include ell
		display: block
		text-decoration: none
		line-height: 25px
		border-bottom: 1px solid transparent
		padding: 0 .5em
		color: #000
		&:hover, &:focus
			background: #ddd
		&.selected
			background: #3879d9
			color: #fff

#content div.selected
	@include full_bottom($b: 10px, $r: 10px, $h: 27px)
	input
		border: 1px solid $border_color
		padding: 3px 0
		box-sizing: border-box
		-moz-box-sizing: border-box
		text-indent: 3px
		line-height: 19px
		@include mono
		@include full($r: 50px)
		margin: 0
	button
		position: absolute
		right: 0
		line-height: 19px
		padding: 3px
		width: 40px

.table
	@include full($t: 177px, $b: 47px, $r: 10px)
	background: #fff
	overflow: hidden
	border: 1px solid $border_color

.content
	@include full($t: 20px)
	overflow-y: scroll

.header
	line-height: 19px
	@include rounded(2px)
	background: #333
	box-shadow: rgba(0,0,0,.1) 0 2px 10px


table.hidden thead
	display: none

	th
		border: 0

.table table
	border-collapse: collapse
	table-layout: fixed
	width: 100%

	td, th
		padding: 0 2px

	th
		@include gradient(#fff, #e5e5e5)
		color: #111
		border-bottom: 1px solid $border_color

	td
		border-bottom: 1px solid rgba(0,0,0,.02)
		vertical-align: middle

	tr:focus td
		box-shadow: #3879d9 0 0 5px

	col.b
		width: 80px

	col.fg, col.bg
		width: 25px

	.c
		text-align: center

	.l
		text-align: left

input[name*="name"], tr span.name
	@include ell
	padding: 1px
	width: 100%
	border: 0 none
	color: inherit
	margin: 0
	@include mono
	font-size: 13px
	line-height: 18px
	background-color: transparent
	text-shadow: rgba(0,0,0,.1) 1px 1px 0
	display: block

input[name*="name"]
	display: none

tr.active
	span.name
		display: none
	input[name*="name"]
		display: block

.colorpicker
	position: absolute
	top: 0
	right: 0
	z-index: 1000
	width: 300px
	border: 1px solid $border_color
	@include rounded(4px)
	box-shadow: rgba(0,0,0,.4) 0 5px 10px
	background: #fff
	line-height: 2em
	opacity: 1
	display: block
	-webkit-transform: scale(1)
	-webkit-transition-property: opacity, -webkit-transform
	-webkit-transition-duration: .2s
	-webkit-transition-timing-function: linear
	-moz-transform: scale(1)
	-moz-transition-property: opacity, -webkit-transform
	-moz-transition-duration: .2s
	-moz-transition-timing-function: linear
	&.hidden
		display: none
	&.hide
		opacity: 0
		-webkit-transform: scale(1.1) translate(-3em, 0)
		-webkit-transition-property: opacity, -webkit-transform
		-webkit-transition-duration: .2s
		-webkit-transition-timing-function: linear
		-moz-transform: scale(1.1) translate(-3em, 0)
		-moz-transition-property: opacity, -webkit-transform
		-moz-transition-duration: .2s
		-moz-transition-timing-function: linear
	.tr
		width: 15px
		height: 30px
		overflow: hidden
		position: absolute
		top: 50%
		margin-top: -15px
		right: -15px
		span
			position: absolute
			width: 20px
			height: 20px
			top: 50%
			margin-top: -10px
			right: 10px
			background: #fff
			border: 1px solid $border_color
			@include rotate(45deg)
			box-shadow: rgba(0,0,0,.4) 0 5px 10px


	button
		@include rounded(4px)
		padding: 3px 5px
		margin-left: 5px

	.preview
		display: block
		width: 280px
		margin: 10px
		height: 40px
		box-shadow: inset rgba(0,0,0,.4) 0 1px 2px
		font-size: 20px
		@include mono
		line-height: 40px
		text-align: center
		@include rounded(4px)
		border: 0

	input[type=range]
		width: 100%

	input[type=number]
		@include rounded(3px)
		border: 1px solid $border_color
		padding: .3em
		text-align: right
		width: 100%

	input[type=color]
		-webkit-appearance: none
		border: 0

	table
		width: 280px
		margin: 10px

	.commit
		margin: 10px
		text-align: right

	td
		padding: 0 4px
		&.num
			width: 40px

	th
		width: 50px
		text-align: right

.mainSettings fieldset
	@include full_top($t: 10px, $r: 10px, $h: 157px)
	z-index: 100
	ul
		@include full
		overflow-x: hidden
		overflow-y: scroll
		border-top: 1px solid rgba(0,0,0,.05)
	li
		line-height: 25px
	label, .field
		box-sizing: border-box
		-moz-box-sizing: border-box
		@include ell
		float: left

		border-bottom: 1px solid rgba(0,0,0,.02)
	.field
		//background: #fff
		padding: 0 2em 0 .5em
		@include mono
		width: 60%
		position: relative
	.color
		white-space: pre
	button
		position: absolute
		right: 5.5px
		top: 5.5px
		height: 16px
		width: 16px
		display: block
		background: rgba(0,0,0,.3)
		@include rounded(10px)
		border: 0
		text-indent: -999em
		-webkit-transition: background .3s
		&::after
			content: "\2716"
			text-indent: 0
			text-align: center
			position: absolute
			top: 0
			left: 0
			width: 16px
			height: 16px
			line-height: 16px
			color: #fff
			text-shadow: rgba(0,0,0,.4) 0 0 0
		&:hover
			-webkit-transition: background .3s
			background: rgba(181,42,29,.9)
	label
		text-align: right
		width: 40%
		padding: 0 1em
	input.txt
		@include mono
		border: 0 none
		width: 100%
		padding: 0
		margin: 0
		line-height: 25px




@-webkit-keyframes rotateThis
	0%
		-webkit-transform: scale(0.5) rotate(0deg)
	100%
		-webkit-transform: scale(0.5) rotate(360deg)

@-moz-keyframes rotateThis
	0%
		-moz-transform: scale(0.5) rotate(0deg)
	100%
		-moz-transform: scale(0.5) rotate(360deg)
.status
	background: rgba(0,0,0,.7)
	box-shadow: inset rgba(0,0,0,.2) 0 2px 5px
	font-size: 10px
	color: rgba(255,255,255,.7)
	height: 30px
	line-height: 30px
	padding: 0 10px 0 30px
	width: 150px
	@include rounded(2px)
	position: absolute
	top: 10px
	right: 10px
	position: absolute
	&.thinking .spinner
		opacity: .7
		-webkit-transition: opacity .1s
		-webkit-transform: scale(0.5)
		-webkit-animation-name: rotateThis
		-webkit-animation-duration: 1.5s
		-webkit-animation-iteration-count: infinite
		-webkit-animation-timing-function: linear
		-moz-animation-name: rotateThis
		-moz-animation-duration: 1.5s
		-moz-animation-iteration-count: infinite
		-moz-animation-timing-function: linear
	.spinner
		-webkit-transition: opacity .1s
		-webkit-transform: scale(0.5)
		opacity: 0
		width: 30px
		height: 30px
		position: absolute
		left: 0
		background: url(/img/cog.svg) no-repeat center center
